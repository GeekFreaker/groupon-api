Groupon API (v3)
================

Groupon API построен поверх протокола HTTP с использованием принципов REST. На данный момент мы поддерживаем два формата ответа сервера - XML и JSON.

В дальнейшем, в этой документации мы описываем все запросы и ответы сервера в формате JSON. Работа с XML полностью идентична и не должна вызвать затруднений.


Доступ к API
------------

Наш API подразделяет пользователей на несколько ролей. Каждая роль имеет строго определенный уровень функциональности и доступа к информации.

**Merchant** - пользователь, являющийся нашим поставщиком услуг. С помощью Merchant API он имеет возможность получать инфорамцию о своих акциях, купонах и т.п. вне сайта [Groupon](http://groupon.ru).

Примером использования Merchant API может является интернет-магазин по продаже билетов, использующий API для проверки введеных купонов.

**Partner** - пользователь, являющийся нашим партнером. Имеет доступ к информации по текущим акциями в городах, регистрации пользователей и т.п.

Примером использования Partner API могут являться сайты-агрегаторы купонов.


Авторизация
-----------

Прежде, чем воспользоваться нашим API, вам нужно авторизоваться в системе и получить необходимые для дальнейшей работы значения ``api_id`` и ``api_token``.

Для авторизации вам необходимо выполнить POST-запрос по адресу:

    http://api.groupon.ru/v3/sign_in.json

В качестве параметров запроса нужно передать данные от вашего аккаунта на сайте [Groupon](http://groupon.ru):

- ``user[email]`` - ваш адрес электронной почты
- ``user[password]`` - ваш пароль

*Пример авторизации с помощью [Curl](http://ru.wikipedia.org/wiki/CURL):*

```shell
curl -d "user[email]=ivan_ivanov@gmail.com&user[password]=secret" http://api.groupon.ru/v3/sign_in.json
```

Если вы указали корректные данные, и авторизация прошла успешно - вы получите следующий ответ:

```json
{
  "user": {
    "id": 13579,
    "api_id": 24680,
    "api_token": "fc5e038d38a57032085441e7fe7010b0"
  }
}
```

В случае, если вы указали неверные данные - ответ будет следующим:

```json
{
  "error": "Invalid credentials."
}
```

Храните полученные при авторизации данные (``api_id`` и ``api_token``) - они необходимы для выполнения последующих запросов к API.